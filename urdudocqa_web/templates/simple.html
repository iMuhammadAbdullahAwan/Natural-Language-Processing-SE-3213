<!DOCTYPE html>
<html lang="ur" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>سادہ اردو متن تخلیق</title>
    <link
      rel="preload"
      as="font"
      href="/fonts/Jameel%20Noori%20Nastaleeq%20Kasheeda.ttf"
      type="font/ttf"
      crossorigin
    />
    <style>
      body {
        font-family: "Jameel Noori Nastaleeq Kasheeda", serif;
        margin: 24px;
      }
      .container {
        max-width: 900px;
        margin: auto;
      }
      textarea {
        width: 100%;
        height: 180px;
        font-size: 20px;
        padding: 12px;
      }
      .row {
        display: flex;
        gap: 12px;
        align-items: center;
      }
      .row > * {
        flex: 1;
      }
      .btn {
        padding: 10px 18px;
        font-size: 18px;
        cursor: pointer;
      }
      .out {
        white-space: pre-wrap;
        background: #fafafa;
        border: 1px solid #ddd;
        padding: 12px;
        min-height: 140px;
        font-size: 20px;
      }
      label {
        font-size: 16px;
      }
    </style>
    <link rel="icon" href="data:," />
    <link rel="stylesheet" href="/static/styles.css" />
    <script>
      // Simple enter+ctrl behavior
      window.addEventListener("DOMContentLoaded", () => {
        const ta = document.getElementById("prompt");
        ta.addEventListener("keydown", (e) => {
          if (e.key === "Enter" && (e.ctrlKey || e.metaKey)) {
            e.preventDefault();
            document.getElementById("genForm").submit();
          }
        });
      });
    </script>
    <style>
      @font-face {
        font-family: "Jameel Noori Nastaleeq Kasheeda";
        src: url("/fonts/Jameel%20Noori%20Nastaleeq%20Kasheeda.ttf")
          format("truetype");
        font-weight: normal;
        font-style: normal;
        font-display: swap;
      }
    </style>
    <meta name="color-scheme" content="light dark" />
    <meta
      http-equiv="Cache-Control"
      content="no-cache, no-store, must-revalidate"
    />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <meta name="turbo-visit-control" content="reload" />
    <meta name="turbo-cache-control" content="no-cache" />
    <meta name="turbo-prefetch" content="false" />
  </head>
  <body>
    <div class="container">
      <h2>سادہ اردو متن تخلیق</h2>
      <p>ماڈل: {{ model }}</p>
      <form id="genForm" action="/simple/generate" method="post">
        <textarea
          id="prompt"
          name="prompt"
          placeholder="اپنی ہدایات / موضوع / سوال یہاں لکھیں..."
        >
{{ prompt }}</textarea
        >
        <div class="row" style="margin-top: 8px">
          <div>
            <label>زیادہ سے زیادہ الفاظ:</label>
            <input
              type="number"
              name="max_new_tokens"
              value="128"
              min="8"
              max="512"
            />
          </div>
          <div>
            <label>درجۂ حرارت (temperature):</label>
            <input
              type="number"
              step="0.1"
              name="temperature"
              value="0.7"
              min="0"
              max="2"
            />
          </div>
          <div>
            <label>Beams:</label>
            <input type="number" name="num_beams" value="1" min="1" max="4" />
          </div>
          <div style="flex: 0">
            <button class="btn" type="submit">تخلیق کریں</button>
          </div>
        </div>
      </form>
      <h3 style="margin-top: 18px">نتیجہ</h3>
      <div class="out">{{ output }}</div>
      <p style="margin-top: 18px">
        <a href="/">دستاویزی سوال و جواب پر واپس جائیں</a>
      </p>
    </div>
  </body>
</html>
